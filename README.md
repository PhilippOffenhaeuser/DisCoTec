What is this project about?
---------------------------
[![Build Status](https://simsgs.informatik.uni-stuttgart.de/jenkins/buildStatus/icon?job=DisCoTec-master)](https://simsgs.informatik.uni-stuttgart.de/jenkins/view/DisCoTec/job/DisCoTec-master/)

This project contains __DisCoTec__, a code for running the distributed sparse grid combination technique with MPI parallelization. While it originates from the excellent [SGpp project](https://github.com/SGpp/SGpp), all the parallelization makes it a very different code, such that it is its own project now.

Guidelines
---------
*  Please develop new features in a new branch and then create a merge request 
to notify other users about the changes. So everyone can check whether there are 
side-effects to other branches.
* Of course, you are still very welcome to directly fix obvious bugs in the 
master branch.
* Before merging new features to the master branch, please make sure that they
are sufficiently commented and extensively tested.

Requirements
--------------
scons (Python3, >= 3.)
libboost-all-dev (>= 1.60)
libmpich-dev (>= 3.2-6), or other MPI library


Installation instructions: 
--------------------------
Compile by updating and running
```
./compile.sh
``` 
(load dependencies as required).

For debugging, you may change to `OPT=0` for the `scons` command, which will turn on assertions and debug symbols. If you want only debug symbols, go with `CPPFLAGS=-g` in the `scons` call. Using `DEBUG_OUTPUT=1` results in absurd amounts of debug output, which you may only want in case you are developing a new feature.

To run the compiled tests, go to folder `distributedcombigrid/tests` and run
```
mpiexec -np 9 ./test_distributedcombigrid_boost
```
where you can use all the parameters of the boost test suite.

The scons command also generates `Makefile`s for all the examples. If you want to build one of the examples, make sure to edit its `Makefile.template` so that the compiler calls match the ones generated by `scons`. Run `make` in the example folder.

To clean the compiled files, use
```
scons -c && rm -r .scon*
```


GENE submodules as dependencies for GENE examples
----------------
There are gene versions as submodules: a linear one in the gene_mgr folder, and 
a nonlinear one in gene-non-linear. To get them, you need access to their 
respective repos. Then go into the folder and

```
git submodule init
git submodule update
```
and then you just hope you can `make` it by adapting the local library flags.
